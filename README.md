# Куда пойти — Москва глазами Артёма

Сайт о самых интересных местах в Москве. Авторский проект Артёма. Сайт демонстрация - [Where to Go](2064007-db92716.twc1.net)

## Требования

Для работы приложения у вас должен быть установлен python версии 3.8 и выше.

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/dad-siberian/dvmn_django_1.git
   ```

2. Перейдите в каталог проекта:

   ```bash
   cd dvmn_django_1
   ```

3. Создайте виртуальное окружение:

   ```bash
   python -m venv .venv
   ```

4. Активируйте виртуальное окружение:

   - Для Windows:

   ```bash
   .venv\Scripts\activate
   ```

   - Для macOS и Linux:

   ```bash
   source .venv/bin/activate
   ```

5. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

6. Примените миграции:

   ```bash
   python manage.py migrate
   ```

7. Создайте суперпользователя

   ```bash
   python manage.py createsuperuser
   ```

## Настройка

Перед запуском приложения необходимо настроить некоторые переменные окружения. Создайте файл `.env` в корневой директории проекта и укажите следующие переменные:

```plaintext
SECRET_KEY={Секретный ключ Django, используемый для защиты сессий, форм и других критически важных данных. Этот ключ должен быть случайным и сложным для предотвращения подбора}
ALLOWED_HOSTS={Список доменных имен или IP-адресов, которые могут обслуживаться вашим приложением Django. Обычно это домены, на которых развернуто ваше приложение, и localhost для разработки. Для тестирования достаточно ALLOWED_HOSTS=.localhost,127.0.0.1,[::1]},
DEBUG={Флаг, определяющий, включен ли режим отладки}
DATABASE_FILEPATH={Путь к файлу базы данных DATABASE_FILEPATH=sqlite:///db.sqlite3}
SECURE_SSL_REDIRECT={Флаг, указывающий, должен ли сервер автоматически перенаправлять HTTP-запросы на HTTPS. Если установлено значение True, все запросы будут перенаправлены на защищенное соединение HTTPS}
SESSION_COOKIE_SECURE={Флаг, указывающий, должен ли куки сессии отправляться только по HTTPS. Это обеспечивает дополнительный уровень безопасности, предотвращая перехват сессионных данных}
CSRF_COOKIE_SECURE={Флаг, указывающий, должны ли CSRF-куки отправляться только по HTTPS. Это также повышает безопасность, защищая приложение от атак по подделке межсайтовых запросов}
```

## Запуск

Выполните следующую команду для запуска Django:

```bash
python manage.py runserver
```

## Добавление локации из JSON-файла в базу данных

Эта команда позволяет добавить локацию из JSON-файла в базу данных.

1. Откройте терминал или командную строку в корневой директории.

2. Введите команду:

   ```bash
   python manage.py load_place <URL_JSON_файла>
   ```

Замените <URL_JSON_файла> на URL-адрес JSON-файла с информацией о локации.

Пример содержимого JSON-файла:

```json
{
  "title": "Название места",
  "imgs": ["Список url фотографий места"],
  "description_short": "Короткое описание",
  "description_long": "Полное описание, поддерживающее HTML разметку",
  "coordinates": {
    "lng": "Долгота в градусах",
    "lat": "Широта в градусах"
  }
}
```

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке [Devman](https://dvmn.org)
